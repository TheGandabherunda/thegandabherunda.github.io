<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Gandabherunda</title>
    <link rel="icon" href="assets/logo.svg" type="image/svg+xml">
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <style>
        @font-face {
            font-family: 'Redaction 10';
            src: url('assets/fonts/Redaction10-Regular.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }
        @font-face {
            font-family: 'Redaction 10';
            src: url('assets/fonts/Redaction10-Bold.woff2') format('woff2');
            font-weight: bold;
            font-style: normal;
        }
        @font-face {
            font-family: 'Redaction 10';
            src: url('assets/fonts/Redaction10-Italic.woff2') format('woff2');
            font-weight: normal;
            font-style: italic;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Geist', sans-serif;
            background-color: #FAFAF9;
            color: #0C0A09;
            transition: background-color 0.5s ease, color 0.5s ease;
        }

        [data-theme="dark"] body {
            background-color: #18181B;
            color: #FAFAFA;
        }

        [data-theme="dark"] a {
             color: #FAFAFA;
        }
        [data-theme="dark"] a:hover {
            color: #D4D4D8;
        }

        [data-theme="dark"] .text-gray-500 {
            color: #A1A1AA;
        }

        [data-theme="dark"] footer ul a {
            color: #A1A1AA;
        }

        [data-theme="dark"] .text-gray-700 {
            color: #E4E4E7;
        }
        [data-theme="dark"] footer .text-black, [data-theme="dark"] header nav a {
            color: #FAFAFA;
        }
        [data-theme="dark"] header nav a:hover {
             color: #D4D4D8;
        }
        [data-theme="dark"] .footer-border {
            border-color: #27272A;
        }


        .font-geist {
            font-family: 'Geist', sans-serif;
        }
        .font-redaction {
            font-family: 'Redaction 10', sans-serif;
        }
        .material-symbols-outlined {
            font-variation-settings:
            'FILL' 0,
            'wght' 400,
            'GRAD' 0,
            'opsz' 20
        }
        .animate-on-load {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .grayscale {
            filter: grayscale(100%);
        }

        .no-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .no-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        .filter-btn {
            padding: 8px 16px;
            border-radius: 9999px;
            background-color: transparent;
            border: 1px solid #E4E4E7;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        [data-theme="dark"] .filter-btn {
            border: 1px solid #3F3F46;
        }
        .filter-btn:hover {
            background-color: #F4F4F5;
        }
        [data-theme="dark"] .filter-btn:hover {
            background-color: #27272A;
        }
        .filter-btn.active {
            background-color: #0C0A09;
            color: #FAFAF9;
            border-color: #0C0A09;
        }
        [data-theme="dark"] .filter-btn.active {
            background-color: #FAFAFA;
            color: #18181B;
            border-color: #FAFAFA;
        }


        /* Theme Switcher Styles */
        .theme-toggle {
            --size: 24px;
            --animation-duration: 0.5s;

            background: none;
            border: none;
            padding: 0;
            inline-size: var(--size);
            block-size: var(--size);
            aspect-ratio: 1;
            border-radius: 50%;
            cursor: pointer;
            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            outline-offset: 5px;
        }

        [data-theme="light"] .theme-toggle {
            --icon-fill: #18181B;
            --icon-fill-hover: #71717A;
        }

        [data-theme="dark"] .theme-toggle {
            --icon-fill: #FAFAFA;
            --icon-fill-hover: #D4D4D8;
        }

        .theme-toggle > svg {
            inline-size: 100%;
            block-size: 100%;
            stroke-linecap: round;
        }

        .sun-and-moon > :is(.moon, .sun, .sun-beams) {
            transform-origin: center center;
        }

        .sun-and-moon > :is(.moon, .sun) {
            fill: var(--icon-fill);
        }

        .theme-toggle:is(:hover, :focus-visible) > .sun-and-moon > :is(.moon, .sun) {
            fill: var(--icon-fill-hover);
        }

        .sun-and-moon > .sun-beams circle {
            fill: var(--icon-fill);
        }

        .theme-toggle:is(:hover, :focus-visible) .sun-beams circle {
            fill: var(--icon-fill-hover);
        }

        [data-theme="dark"] .sun {
            transform: scale(1.75);
        }

        [data-theme="dark"] .sun-beams {
            opacity: 0;
        }

        [data-theme="dark"] .moon > circle {
            transform: translateX(-7px);
        }

        @supports (cx: 1px) {
            [data-theme="dark"] .moon > circle {
                transform: translateX(0);
                cx: 17;
            }
        }

        @media (prefers-reduced-motion: no-preference) {
            .sun {
                transition: transform var(--animation-duration) cubic-bezier(0.68, -0.55, 0.265, 1.55);
            }

            .sun-beams {
                transition: transform var(--animation-duration) cubic-bezier(0.68, -0.55, 0.265, 1.55),
                    opacity var(--animation-duration) ease;
            }

            [data-theme="dark"] .sun {
                transition-timing-function: ease;
                transition-duration: calc(var(--animation-duration) * 0.5);
            }

            [data-theme="dark"] .sun-beams {
                transform: rotateZ(-25deg);
                transition-duration: calc(var(--animation-duration) * 0.3);
            }

            .moon > circle {
                transition: transform calc(var(--animation-duration) * 0.5) cubic-bezier(0, 0, 0.2, 1);
            }

            @supports (cx: 1px) {
                .moon > circle {
                    transition: cx calc(var(--animation-duration) * 0.5) cubic-bezier(0, 0, 0.2, 1);
                }
            }

            [data-theme="dark"] .moon > circle {
                transition-delay: calc(var(--animation-duration) * 0.5);
                transition-duration: var(--animation-duration);
            }
        }
    </style>
</head>
<body class="font-geist antialiased">

<div class="fixed top-8 right-8 z-50">
    <div class="theme-switcher-container">
        <button class="theme-toggle" id="theme-toggle" title="Toggles light & dark" aria-label="auto" aria-live="polite">
            <svg class="sun-and-moon" aria-hidden="true" width="24" height="24" viewBox="0 0 24">
                <mask class="moon" id="moon-mask">
                    <rect x="0" y="0" width="100%" height="100%" fill="white" />
                    <circle cx="24" cy="10" r="6" fill="black" />
                </mask>
                <circle class="sun" cx="12" cy="12" r="6" mask="url(#moon-mask)" fill="currentColor" />
                <g class="sun-beams" stroke="currentColor">
                    <circle cx="12" cy="3" r="1.25" />
                    <circle cx="12" cy="21" r="1.25" />
                    <circle cx="5.64" cy="5.64" r="1.25" />
                    <circle cx="18.36" cy="18.36" r="1.25" />
                    <circle cx="3" cy="12" r="1.25" />
                    <circle cx="21" cy="12" r="1.25" />
                    <circle cx="5.64" cy="18.36" r="1.25" />
                    <circle cx="18.36" cy="5.64" r="1.25" />
                </g>
            </svg>
        </button>
    </div>
</div>

<div class="relative z-20">
    <!-- Main Content -->
    <main>
        <!-- Hero Section -->
        <section class="min-h-screen flex flex-col justify-center items-center hero-section">
            <a href="index.html" id="main-logo-link" class="mb-[24px] cursor-pointer animate-on-load" data-logo="assets/logo.svg" data-gradient="linear-gradient(to bottom right, #EAEAEA, #D2D2D2)" data-gradient-dark="linear-gradient(to bottom right, #3f3f46, #18181b)">
                <img src="assets/logo.svg" alt="The Gandabherunda Logo" class="w-[230px] h-[230px]">
            </a>
            <div class="max-w-xl mx-auto text-center">
                <h1 class="font-redaction text-[60px] font-medium tracking-tighter leading-none animate-on-load">The<br>Gandabherunda</h1>
                <p class="mt-4 text-[20px] text-gray-500 animate-on-load">Crafting elegant, free software to empower digital freedom.</p>
            </div>
        </section>

        <!-- Projects Section -->
        <section class="min-h-screen flex flex-col py-16 projects-section overflow-hidden">
            <h2 class="text-[20px] animate-on-load mb-4 pl-8">Our Projects</h2>
            <div id="filter-container" class="pl-8 mb-8">
                <div id="filter-buttons" class="flex space-x-2">
                    <button class="filter-btn active" data-filter="all">All</button>
                    <button class="filter-btn" data-filter="app">Apps</button>
                    <button class="filter-btn" data-filter="website">Websites</button>
                </div>
            </div>
            <div class="flex-grow flex items-center">
                <div id="projects-scroll-container" class="flex overflow-x-auto gap-8 py-4 no-scrollbar pl-8 pr-8">
                    <!-- Pomozen -->
                    <a href="xpomozen.html" class="flex-shrink-0 w-96 group project-tile transition-all duration-500 animate-on-load" data-logo="assets/pomozen.svg" data-gradient="linear-gradient(to bottom right, #FEE5FF, #FBBDFF)" data-gradient-dark="linear-gradient(to bottom right, #D49FD7, #550059)" data-category="app">
                        <div class="h-96 md:h-[480px] w-full flex items-center justify-center rounded-xl" style="background-image: linear-gradient(to bottom right, #FEE5FF, #FBBDFF)">
                            <img src="assets/pomozen.svg" alt="Pomozen Logo" class="w-[100px] h-auto">
                        </div>
                        <div class="mt-4">
                            <div class="flex justify-between items-center">
                                <p class="text-[20px]">Pomozen</p>
                                <span class="material-symbols-outlined max-w-0 overflow-hidden transition-none group-hover:transition-all group-hover:duration-300 group-hover:ease-in-out group-hover:max-w-xl">arrow_outward</span>
                            </div>
                            <p class="mt-2 text-gray-500">An open-source Pomodoro timer to boost productivity and focus.</p>
                        </div>
                    </a>
                    <!-- OpenJot -->
                    <a href="xopenjot.html" class="flex-shrink-0 w-96 group project-tile transition-all duration-500 animate-on-load" data-logo="assets/openjot.svg" data-gradient="linear-gradient(to bottom right, #F9F0FF, #FFC4BE)" data-gradient-dark="linear-gradient(to bottom right, #A592B3, #430600)" data-category="app">
                        <div class="h-96 md:h-[480px] w-full flex items-center justify-center rounded-xl" style="background-image: linear-gradient(to bottom right, #F9F0FF, #FFC4BE)">
                            <img src="assets/openjot.svg" alt="OpenJot Logo" class="w-[100px] h-auto">
                        </div>
                        <div class="mt-4">
                            <div class="flex justify-between items-center">
                                <p class="text-[20px]">OpenJot</p>
                                <span class="material-symbols-outlined max-w-0 overflow-hidden transition-none group-hover:transition-all group-hover:duration-300 group-hover:ease-in-out group-hover:max-w-xl">arrow_outward</span>
                            </div>
                            <p class="mt-2 text-gray-500">A minimal, private, open-source journaling app that stores data locally.</p>
                        </div>
                    </a>
                    <!-- NimFile -->
                    <a href="xnimfile.html" class="flex-shrink-0 w-96 group project-tile transition-all duration-500 animate-on-load" data-logo="assets/nimfile.svg" data-gradient="linear-gradient(to bottom right, #FFF4EE, #FFAB79)" data-gradient-dark="linear-gradient(to bottom right, #AC998E, #4B1C00)" data-category="website">
                        <div class="h-96 md:h-[480px] w-full flex items-center justify-center rounded-xl" style="background-image: linear-gradient(to bottom right, #FFF4EE, #FFAB79)">
                            <img src="assets/nimfile.svg" alt="NimFile Logo" class="w-[100px] h-auto">
                        </div>
                        <div class="mt-4">
                            <div class="flex justify-between items-center">
                                <p class="text-[20px]">NimFile</p>
                                <span class="material-symbols-outlined max-w-0 overflow-hidden transition-none group-hover:transition-all group-hover:duration-300 group-hover:ease-in-out group-hover:max-w-xl">arrow_outward</span>
                            </div>
                            <p class="mt-2 text-gray-500">A privacy-focused platform for secure, peer-to-peer file transfers.</p>
                        </div>
                    </a>
                    <!-- NimSpace -->
                    <a href="xnimspace.html" class="flex-shrink-0 w-96 group project-tile transition-all duration-500 animate-on-load" data-logo="assets/nimspace.svg" data-gradient="linear-gradient(to bottom right, #FFE5E6, #FF9EA3)" data-gradient-dark="linear-gradient(to bottom right, #C09A9C, #630005)" data-category="website">
                        <div class="h-96 md:h-[480px] w-full flex items-center justify-center rounded-xl" style="background-image: linear-gradient(to bottom right, #FFE5E6, #FF9EA3)">
                            <img src="assets/nimspace.svg" alt="NimSpace Logo" class="w-[100px] h-auto">
                        </div>
                        <div class="mt-4">
                            <div class="flex justify-between items-center">
                                <p class="text-[20px]">NimSpace</p>
                                <span class="material-symbols-outlined max-w-0 overflow-hidden transition-none group-hover:transition-all group-hover:duration-300 group-hover:ease-in-out group-hover:max-w-xl">arrow_outward</span>
                            </div>
                            <p class="mt-2 text-gray-500">Serverless P2P communication, file sharing, and synchronized media.</p>
                        </div>
                    </a>
                    <!-- Morse Code Translator -->
                    <a href="xmorse.html" class="flex-shrink-0 w-96 group project-tile transition-all duration-500 animate-on-load" data-logo="assets/morse.svg" data-gradient="linear-gradient(to bottom right, #EEEEEE, #767676)" data-gradient-dark="linear-gradient(to bottom right, #ACACAC, #363636)" data-category="website">
                        <div class="h-96 md:h-[480px] w-full flex items-center justify-center rounded-xl" style="background-image: linear-gradient(to bottom right, #EEEEEE, #767676)">
                            <img src="assets/morse.svg" alt="Morse Code Translator Logo" class="w-[100px] h-auto">
                        </div>
                        <div class="mt-4">
                            <div class="flex justify-between items-center">
                                <p class="text-[20px]">Morse Code Translator</p>
                                <span class="material-symbols-outlined max-w-0 overflow-hidden transition-none group-hover:transition-all group-hover:duration-300 group-hover:ease-in-out group-hover:max-w-xl">arrow_outward</span>
                            </div>
                            <p class="mt-2 text-gray-500">A web app to translate text to Morse code and back.</p>
                        </div>
                    </a>
                </div>
            </div>
            <div id="nav-arrow-container" class="flex justify-end space-x-4 pr-8">
                <button id="scroll-left-btn" class="w-12 h-12 flex items-center justify-center rounded-full bg-zinc-900 text-zinc-50 dark:bg-zinc-50 dark:text-zinc-900 hover:bg-zinc-700 dark:hover:bg-zinc-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    <span class="material-symbols-outlined">arrow_back</span>
                </button>
                <button id="scroll-right-btn" class="w-12 h-12 flex items-center justify-center rounded-full bg-zinc-900 text-zinc-50 dark:bg-zinc-50 dark:text-zinc-900 hover:bg-zinc-700 dark:hover:bg-zinc-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed">
                    <span class="material-symbols-outlined">arrow_forward</span>
                </button>
            </div>
        </section>

        <!-- Thank you section -->
        <section class="px-8 py-24 md:py-32">
            <h2 class="font-redaction text-[60px] text-center font-medium tracking-tight animate-on-load">Thank you for visiting.</h2>
        </section>
    </main>

    <!-- Footer -->
    <footer class="p-8">
        <div class="flex flex-col md:flex-row justify-around text-gray-500 text-center md:text-left">
            <div class="animate-on-load">
                <h4 class="font-medium text-black mb-4 text-[20px]">GitHub</h4>
                <ul class="text-[20px] space-y-2">
                    <li><a href="https://github.com/TheGandabherunda" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>The Gandabherunda | ProjectG</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/abisri99" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>Abilash</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/arunuserx" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>Arun</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                </ul>
            </div>
            <div class="animate-on-load">
                <h4 class="font-medium text-black mb-4 text-[20px]">Projects</h4>
                <ul class="text-[20px] space-y-2">
                    <li><a href="https://github.com/TheGandabherunda/Pomozen" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>Pomozen</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/TheGandabherunda/OpenJot" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>OpenJot</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/TheGandabherunda/NimFile" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>NimFile</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/TheGandabherunda/NimSpace" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>NimSpace</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="https://github.com/TheGandabherunda/morse-code-translator" target="_blank" rel="noopener noreferrer" class="hover:text-black inline-flex items-center group relative"><span>Morse Code Translator</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                </ul>
            </div>
            <div class="animate-on-load">
                <h4 class="font-medium text-black mb-4 text-[20px]">Navigate</h4>
                <ul class="text-[20px] space-y-2">
                    <li><a href="about.html" class="hover:text-black inline-flex items-center group relative"><span>About</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="terms.html" class="hover:text-black inline-flex items-center group relative"><span>Terms & Conditions</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                    <li><a href="privacy.html" class="hover:text-black inline-flex items-center group relative"><span>Privacy policy</span><span class="material-symbols-outlined text-[20px] leading-none absolute left-full ml-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300">arrow_outward</span></a></li>
                </ul>
            </div>
        </div>
        <div class="mt-16 text-gray-500 flex flex-col md:flex-row justify-between items-center text-[20px] animate-on-load">
            <p class="mb-4 md:mb-0">© 2025 The Gandabherunda</p>
            <div class="flex items-end justify-center md:justify-end gap-4">
                <div class="text-center md:text-right">
                    <p id="time"></p>
                    <p>Bengaluru, India</p>
                </div>
            </div>
        </div>
    </footer>
</div>

<!-- Hover Overlays -->
<div id="background-overlay" class="fixed inset-0 z-10 pointer-events-none opacity-0 transition-opacity duration-500 ease-in-out"></div>
<div id="logo-overlay" class="fixed inset-0 z-0 flex items-center justify-center pointer-events-none opacity-0 transition-opacity duration-500 ease-in-out">
    <img id="hover-logo" src="" alt="Project Logo" class="w-[450px] h-auto opacity-15 blur-lg">
</div>

<script>
    // Time updater
    function updateTime() {
        const now = new Date();
        const options = {
            timeZone: 'Asia/Kolkata',
            hour: 'numeric',
            minute: 'numeric',
            hour12: true
        };
        const timeString = now.toLocaleTimeString('en-US', options);
        document.getElementById('time').textContent = timeString;
    }

    updateTime();
    setInterval(updateTime, 60000);

    // Refined Hover effect script
    document.addEventListener('DOMContentLoaded', () => {
        const bgOverlay = document.getElementById('background-overlay');
        const logoOverlay = document.getElementById('logo-overlay');
        const hoverLogo = document.getElementById('hover-logo');

        const fadeElements = document.querySelectorAll(
            '#main-logo-link, .hero-section h1, .hero-section p, .projects-section h2, .project-tile, #filter-container, #nav-arrow-container, section.px-8 h2, footer h4, footer ul a, .mt-16 p'
        );

        const projectTiles = document.querySelectorAll('.project-tile');
        const interactiveElements = document.querySelectorAll('.project-tile, footer a, #main-logo-link');

        const themeSwitcherContainer = document.querySelector('.theme-switcher-container');
        const allContentToFadeOnThemeHover = document.querySelectorAll(
            'main, footer > .flex, .mt-16 > p, .mt-16 .text-right'
        );

        themeSwitcherContainer.addEventListener('mouseenter', () => {
            allContentToFadeOnThemeHover.forEach(el => {
                el.style.transition = 'opacity 0.3s ease-in-out';
                el.style.opacity = '0.10';
            });
        });

        themeSwitcherContainer.addEventListener('mouseleave', () => {
            allContentToFadeOnThemeHover.forEach(el => {
                el.style.opacity = '1';
            });
        });

        interactiveElements.forEach(element => {
            element.addEventListener('mouseenter', e => {
                const currentItem = e.currentTarget;

                fadeElements.forEach(el => {
                    el.style.opacity = '0.10';
                    el.style.transition = 'opacity 0.3s ease-in-out';
                });

                currentItem.style.opacity = '1';

                if (currentItem.closest('footer')) {
                    const parentSection = currentItem.closest('.animate-on-load');
                    if (parentSection) {
                        const heading = parentSection.querySelector('h4');
                        if(heading) heading.style.opacity = '1';
                    }
                }

                if (currentItem.id === 'main-logo-link') {
                    document.querySelector('.hero-section h1').style.opacity = '1';
                    document.querySelector('.hero-section p').style.opacity = '1';
                }

                const isProjectHover = currentItem.classList.contains('project-tile') || currentItem.id === 'main-logo-link';
                if (isProjectHover) {
                    const logoSrc = currentItem.dataset.logo;
                    const isDarkMode = document.documentElement.getAttribute('data-theme') === 'dark';
                    const gradient = isDarkMode ? currentItem.dataset.gradientDark : currentItem.dataset.gradient;

                    if (logoSrc && gradient) {
                        hoverLogo.setAttribute('src', logoSrc);
                        bgOverlay.style.backgroundImage = gradient;
                        bgOverlay.style.opacity = '0.15';
                        logoOverlay.style.opacity = '1';
                    }

                    projectTiles.forEach(tile => {
                        if (tile !== currentItem) {
                            tile.classList.add('grayscale');
                        }
                    });

                     if (currentItem.id === 'main-logo-link') {
                         projectTiles.forEach(tile => tile.classList.add('grayscale'));
                     }
                }
            });

            element.addEventListener('mouseleave', () => {
                fadeElements.forEach(el => {
                    el.style.opacity = '1';
                });
                projectTiles.forEach(tile => {
                    tile.classList.remove('grayscale');
                });
                bgOverlay.style.opacity = '0';
                logoOverlay.style.opacity = '0';
            });
        });

        // Page load animation
        const animatedItems = document.querySelectorAll('.animate-on-load');
        animatedItems.forEach((item, index) => {
            setTimeout(() => {
                item.style.opacity = '1';
                item.style.transform = 'translateY(0)';
            }, index * 50);
        });

        // Project scroll and filter functionality
        const scrollContainer = document.getElementById('projects-scroll-container');
        const leftBtn = document.getElementById('scroll-left-btn');
        const rightBtn = document.getElementById('scroll-right-btn');
        const filterButtonsContainer = document.getElementById('filter-buttons');
        const allProjectTiles = document.querySelectorAll('.project-tile');

        const updateButtonState = () => {
            if (!scrollContainer || !leftBtn || !rightBtn) return;
            const tolerance = 1;
            leftBtn.disabled = scrollContainer.scrollLeft <= 0;
            rightBtn.disabled = scrollContainer.scrollLeft >= scrollContainer.scrollWidth - scrollContainer.clientWidth - tolerance;
        };

        if (scrollContainer && leftBtn && rightBtn) {
            const scrollAmount = 384 + 32; // w-96 (384px) + gap-8 (32px)
            rightBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({ left: scrollAmount, behavior: 'smooth' });
            });
            leftBtn.addEventListener('click', () => {
                scrollContainer.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
            });
            scrollContainer.addEventListener('scroll', updateButtonState);
            window.addEventListener('resize', updateButtonState);
        }

        if (filterButtonsContainer && allProjectTiles.length > 0) {
            filterButtonsContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.filter-btn');
                if (button) {
                    const filter = button.dataset.filter;

                    filterButtonsContainer.querySelector('.active').classList.remove('active');
                    button.classList.add('active');

                    allProjectTiles.forEach(tile => {
                        const category = tile.dataset.category;
                        if (filter === 'all' || filter === category) {
                            tile.classList.remove('hidden');
                        } else {
                            tile.classList.add('hidden');
                        }
                    });

                    if (scrollContainer) {
                       scrollContainer.scrollLeft = 0;
                       // Use a timeout to allow the DOM to reflow after hiding/showing elements.
                       // This ensures the scroll width is correct when updating button states.
                       setTimeout(updateButtonState, 50);
                    }
                }
            });
        }

        updateButtonState();


        // Theme switcher logic
        const themeToggle = document.getElementById('theme-toggle');
        const htmlEl = document.documentElement;

        const getSystemTheme = () => {
            return window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light";
        }

        const applyTheme = (theme) => {
            htmlEl.setAttribute('data-theme', theme);
            htmlEl.className = theme; // Required for View Transition API targeting
            themeToggle.setAttribute('aria-label', theme);
        };

        const toggleTheme = (event) => {
            const newTheme = htmlEl.getAttribute('data-theme') === 'light' ? 'dark' : 'light';

            if (!document.startViewTransition || window.matchMedia("(prefers-reduced-motion: reduce)").matches) {
                localStorage.setItem('theme-preference', newTheme);
                applyTheme(newTheme);
                return;
            }

            const x = event.clientX;
            const y = event.clientY;
            const maxSize = Math.max(window.innerWidth, window.innerHeight) * 10;

            const transitionStyles = `
::view-transition-old(root),
::view-transition-new(root) {
    animation: none;
    mix-blend-mode: normal;
}
::view-transition-group(root) {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
}
::view-transition-new(root) {
    animation: themeReveal 1000ms ease-in-out;
    transform-origin: ${x}px ${y}px;
    mask: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="-66 -66 132 132"><defs><filter id="blur"><feGaussianBlur stdDeviation="5"/></filter></defs><circle cx="0" cy="0" r="33" fill="black" filter="url(%23blur)"/></svg>') ${x}px ${y}px / 0 no-repeat;
}
::view-transition-old(root),
.dark::view-transition-old(root) {
    transform-origin: ${x}px ${y}px;
    animation: none;
    z-index: -1;
}
@keyframes themeReveal {
    0% {
        mask-position: ${x}px ${y}px;
        mask-size: 0;
    }
    100% {
        mask-position: ${x - maxSize / 2}px ${y - maxSize / 2}px;
        mask-size: ${maxSize}px;
    }
}
`;

            const styleSheet = document.createElement("style");
            styleSheet.id = "theme-transition-styles";
            styleSheet.textContent = transitionStyles;
            document.head.appendChild(styleSheet);

            const transition = document.startViewTransition(() => {
                localStorage.setItem('theme-preference', newTheme);
                applyTheme(newTheme);
            });

            transition.finished.then(() => {
                setTimeout(() => {
                    const styleElement = document.getElementById("theme-transition-styles");
                    if (styleElement) styleElement.remove();
                }, 100);
            }).catch((error) => {
                console.error("View transition failed:", error);
                localStorage.setItem('theme-preference', newTheme);
                applyTheme(newTheme);
            });
        };

        themeToggle.addEventListener('click', toggleTheme);

        // Set initial theme
        const storedTheme = localStorage.getItem('theme-preference');
        const initialTheme = storedTheme || getSystemTheme();
        applyTheme(initialTheme);

        // Listen for system theme changes
        window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", (e) => {
            const newSystemTheme = e.matches ? "dark" : "light";
            if (!localStorage.getItem('theme-preference')) {
                applyTheme(newSystemTheme);
            }
        });
    });
</script>
</body>
</html>


